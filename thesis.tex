\documentclass[diploma]{softlab-thesis}

\usepackage{fontspec}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{pifont}
\usepackage{multirow}
\usepackage{array}
\usepackage{mdwlist}
\usepackage{subfig}
%\usepackage{floatrow}
%\usepackage{float}
\usepackage{verbatim}
\usepackage{color}
\usepackage{graphicx}
\usepackage{xunicode}
\usepackage{xltxtra}
\usepackage{url}
%\usepackage{dsfont}
%\usepackage{microtype}
\usepackage{hyphenat}
\usepackage{multicol}
\usepackage{wrapfig}
\usepackage{lipsum}
\usepackage{listings}
\usepackage{paralist}
\usepackage{ulem}
\usepackage{tocvsec2}
\usepackage[toc,page]{appendix}

%%%
%%%  The document
%%%

% FONT SETTINGS ===============================================================



\defaultfontfeatures{Mapping=tex-text}
\setromanfont{Times New Roman}

% CUSTOM COLORS ===============================================================

\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{darkgreen}{rgb}{0.0,0.5,0.0}
\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
\definecolor{myorange}{RGB}{246,177,50}
\definecolor{myblue}{rgb}{0.13,0.13,1}
\definecolor{mybordo}{rgb}{0.37, 0.08, 0.25}  


% CUSTOM COMMANDS =============================================================
% FIGURE SETUP ===============================================================

\newcommand\diagram[2]{
	\begin{figure}[h!]
		\centering
		\includegraphics[width=\textwidth,height=\textheight,keepaspectratio]
		{diagrams/#2}
		\caption{#1}
		\label{fig:#2}
	\end{figure}
}

\newcommand\diagramscale[3]{
	\begin{figure}[h!]
		\centering
		\includegraphics[scale={#3}]
		{diagrams/#2}
		\caption{#1}
		\label{fig:#2}
	\end{figure}
}
\newcommand\diagramstrict[2]{
	\begin{figure}[H]
		\centering
		\includegraphics[keepaspectratio]
		{diagrams/#2}
		\caption{#1}
		\label{fig:#2}
	\end{figure}
}

\newcommand\fixme{\textrm{\textbf{\textcolor{red}{FIXME: }}}}
\newcommand\todo{\textrm{\textbf{\textcolor{myorange}{TODO: }}}}

\newtheorem{reliability}{Ορισμός 2 (Εμπιστοσύνη Αξιοπιστίας)}
\newtheorem{decision}{Ορισμός 3 (Εμπιστοσύνη Απόφασης)}
\newtheorem{soft_sec}{Ορισμός 1 (Soft Security)}
\newtheorem{reputation}{Ορισμός 4 (Φήμη)}




\lstset{
	backgroundcolor=\color{white},
	basicstyle=\small\ttfamily,		% style for code
	breakatwhitespace=false,        % sets if automatic breaks should only
 keywordstyle=\color{mybordo},
									% happen at whitespace
	breaklines=true,                % sets automatic line breaking
	captionpos=b,                   % sets the caption-position to bottom
	commentstyle=\color{mygreen},   % style for comments
	escapeinside={\%*}{*)},         % if you want to add LaTeX within your code
	frame=single,                   % adds a frame around the code
	keepspaces=true,                % keeps spaces in text, useful for 
	%keywordstyle=\color{blue}\bfseries,
					% keyword style
	numbers=left,
	numbersep=5pt,                  % how far the line-numbers are from the 
					% code
	numberstyle=\tiny\color{mygray},% style for line-numbers
	rulecolor=\color{black},
	stepnumber=1,                   % the step between two line-numbers. If 
					% it's 1, each line will be numbered
	stringstyle=\color{myblue},    % style for strings
	tabsize=2,                      % sets default tabsize to 2 spaces
}

% Define specific rules for each language

\lstdefinestyle{java}
{
	language=java
}

\newcommand\javacode[2]{
	\lstinputlisting[style=java, caption={#1}, label=lst:#2]{src/#2}
}

\usepackage[xetex,colorlinks=true,linkcolor=blue,citecolor=darkgreen]{hyperref}

\begin{document}

%%%  Title page

\frontmatter

\title{Κοινωνικός Αποκλεισμός και Επανένταξη Εικονικών Οντοτήτων στο Διαδίκτυο των Πραγμάτων} 

\author{Ελευθέριος Κόκορης - Κόγιας}
\authoren{Eleftherios Kokoris - Kogias}
\datedefense{03}{07}{2015}
\supervisor{Θεοδώρα Βαρβαρίγου}
\supervisorpos{Καθηγήτρια ΕΜΠ}
\committeeone{Θεοδώρα Βαρβαρίγου}
\committeeonepos{Καθηγήτρια ΕΜΠ}
\committeetwo{Βασίλειος Λούμος}
\committeetwopos{Καθηγητής Ε.Μ.Π.}
\committeethree{Δημήτριος Ασκούνης}
\committeethreepos{Αναπληρωτής Καθηγητής Ε.Μ.Π.}

\department{Τομέας Επικοινωνιών, Ηλεκτρονικής και Συστημάτων Πληροφορικής}

\maketitle
\def\templen{\parindent}
\setlength{\parindent}{0pt}
\setlength{\parskip}{2.0ex plus 0.5ex minus 0.2ex}
\begin{large}

\include{abstract}

\setlength{\parindent}{\templen}
\setlength{\parskip}{0pt}
\tableofcontents
\listoffigures
\listoftables
\renewcommand{\lstlistlistingname}{Κατάλογος Κώδικα}
\lstlistoflistings % changed the title above

\mainmatter
% moved these two commands here so that they don't influence the toc
\setlength{\parindent}{0pt}
\setlength{\parskip}{2.0ex plus 0.5ex minus 0.2ex}

\renewcommand\floatpagefraction{.7}

\include{intro}
\include{background}
\include{design}
\include{implementation}

\end{large}


\end{document}
